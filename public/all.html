<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link href="./style.css" rel="stylesheet" />
</head>

<body>
    <h1>My Mood App</h1>

    <script>
        const getDate = async () => {
            const response = await fetch('/api')
            const data = await response.json()

            for (item of data) {
                const root = document.createElement('div')
                const mood = document.createElement('div')
                mood.textContent = `mood: ${item.mood}`

                const geo = document.createElement('div')
                geo.textContent = `${item.lat}°, ${item.lon}°`

                const date = document.createElement('div')
                const dateString = new Date(item.timestamp).toLocaleString()
                date.textContent = dateString

                root.append(mood, geo, date)
                document.body.append(root)
                document.body.append(document.createElement('br'))
            }
        }

        getDate()
    </script>

</body>

</html>